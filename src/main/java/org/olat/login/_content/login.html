<div class="o_login">
	<h3>$r.translate("login.header")</h3>
	#if ($infomsg)
		<div class="o_infomessage_wrapper">
			<div class="o_infomessage">
				<div class="o_infomessage_inner">
					<div class="b_floatscrollbox">
						$infomsg
					</div>
				</div>
			</div>
		</div>
	#end
	
	#if ($infomsgNode)
		<div class="o_infomessage_wrapper">
			<div class="o_infomessage">
				<div class="o_infomessage_inner">
					<div class="b_floatscrollbox">
						$infomsgNode
					</div>
				</div>
			</div>
		</div>
	#end
	#if($loginBlocked)
		<div class="b_warning">
			$r.translate("login.blocked.forAll")
		</div>
	#end
	#if($browserWarningOn)
		<div class="b_warning">
			$r.translate("login.browserswitch")
		</div>
	#end
	
	
	#if ($logincustommsg)
	 <div class="b_logincustommsg">$logincustommsg</div>
	#end
	
	$r.render("loginComp")
	

	#if (!$providerSet.isEmpty())
		<div class="o_login_providers">
			<h4>$r.translate("login.altprovider")</h4>
			<ul>
			#foreach ($authProvider in $providerSet)
				<li>$authProvider.getDescription($locale) <a href="$r.commandURI("login")?lp=$authProvider.getName()">$authProvider.getLinktext($locale)</a></li>
			#end
			</ul>
		</div>
	#end
</div>


<script type="text/javascript">
/* <![CDATA[ */ 
if ((window.self != window.parent) && window.parent.OPOL) {
	// Page is loaded in an iframe within OpenOLAT because a session timeout occurred or 
	// system has been restartet in the meantime. 
	// Show error on main window
	var title = "$r.escapeJavaScript($r.translate("timeout.title"))";
	var message = "$r.escapeJavaScript($r.translate("timeout.message"))";
	window.parent.o_afterserver();
	window.parent.showMessageBox('error', title, message);
}
/* ]]> */
</script>
