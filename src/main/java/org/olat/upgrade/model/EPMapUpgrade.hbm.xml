<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN"	"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping default-lazy="false">

	<class name="org.olat.upgrade.model.EPMapUpgrade" table="o_ep_struct_el">
		<id name="key" column="structure_id" type="long" unsaved-value="null">
			<generator class="hilo"/>
		</id>
    
		<many-to-one name="ownerGroup"
                  column="fk_ownergroup"
                  class="org.olat.basesecurity.SecurityGroupImpl" 
                  outer-join="true"   
                  unique="true" not-found="ignore"
                  cascade="none"/>
        
		<many-to-one name="olatResource"
                 column="fk_olatresource"
                 class="org.olat.resource.OLATResourceImpl" 
                 outer-join="true"   
                 unique="true" 
                 cascade="none"/>

		<set name="groups" cascade="all,delete-orphan">
            <key column="fk_struct_id"/>
            <one-to-many class="org.olat.upgrade.model.EPMapUpgradeToGroupRelation"/>
        </set> 
                  
	</class>
  
</hibernate-mapping>