<div id="o_main" class="$mainCssClasses row row-offcanvas row-offcanvas-left">
#if($existsCol1 && $r.visible("col1"))
	<div id="o_main_left" class="split-pane sidebar-offcanvas" >##style="$!col1CustomCSSStyles" role="navigation">
		<a name="o_main_left"></a>
		<div id="o_main_left_content" class="clearfix"> 
			$r.render("col1")	
		</div>
	</div>
	<div class="split-pane-divider" id="my-divider"></div>
#end
#if($existsCol2 && $r.visible("col2"))	
	<div id="o_main_right" class="split-pane" style="$!col2CustomCSSStyles">
		<a name="o_main_right"></a>
		<div id="o_main_right_content" class="clearfix"> 
			$r.render("col2")
		</div>
	</div>
#end
#if($existsCol3 && $r.visible("col3"))	
	<div id="o_main_center" class="split-pane" style="$!col3CustomCSSStyles1 $!col3CustomCSSStyles2">
		<a id="b_content" name="content"></a> 
		<div class="pull-left visible-xs">
           	<button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
        </div>
		<div id="o_main_center_content" class="clearfix">
			
          
         	<div id="o_main_center_content_inner" class="b_floatscrollbox">
				<a name="o_main_center"></a>
				$r.render("col3")		
			</div>
		</div>
		## IE column clearing
		<div id="b_ie_clearing">&nbsp;</div>
	</div>
#end
</div>
#if(($existsCol1 && $r.visible("col1")) || ($existsCol2 && $r.visible("col2")))
<script type="text/javascript">
/* <![CDATA[ */
jQuery().ready(function() {
	OPOL.adjustHeight();
	
	// Main vertical splitter, anchored to the browser window
#if($existsCol1 && $r.visible("col1"))
	jQuery("#o_main_left").resizable({
        handles: 'e',
        containment: '#o_main',
	    grid: [1, 10000],
	    stop: function() {
			var newEmWidth = Math.round(jQuery('#o_main_left').width() / o_info.emPxFactor);
			jQuery.post('$r.commandURI("saveCol1Width")' + newEmWidth);
	    }
	}).bind( "resize", resize_right);

	function resize_right(event, ui) {
		if(ui == null) return;
	    var width = ui.size.width;
	    var leftWidth = jQuery("#o_main_right").width();
        var contWidth = jQuery('#o_main').width() - leftWidth;
	    var middleWidth = jQuery("#o_main_center").width();
	    if(middleWidth > contWidth) {
	    	jQuery('#o_main_left').css('width', width);
	    }
	    jQuery('#o_main_center').css('width', (contWidth - width));
	    jQuery('#o_main_center').css('margin-left', width);
	};

	## init offcanvas menu
	jQuery('[data-toggle=offcanvas]').click(function () {
		jQuery('.row-offcanvas').toggleClass('active')
	});

#end

#if($existsCol2 && $r.visible("col2"))		
	jQuery("#o_main_center").resizable({
        handles: 'e',
        containment: '#o_main',
	    grid: [1, 10000],
	    stop: function() {
			var newEmWidth = Math.round(jQuery('#o_main_right').width() / o_info.emPxFactor);
			jQuery.post('$r.commandURI("saveCol2Width")' + newEmWidth);
	    }
	}).bind( "resize", resize_left);

	function resize_left(event, ui) {
			if(ui == null) return;
	    var width = ui.size.width;
	    var rightWidth = jQuery("#o_main_left").width();
        var contWidth = jQuery('#o_main').width() - rightWidth;
	    if(width > contWidth) {
	    	width = contWidth;
	    	jQuery('#o_main_center').css('width', width);
	    }
	    jQuery('#o_main_right').css('width', (contWidth - width));
	};
#end
});
/* ]]> */
</script>
#end