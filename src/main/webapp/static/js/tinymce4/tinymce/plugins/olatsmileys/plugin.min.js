(function(){function b(e){if(e.o_info){return e}else{if(e.opener){return b(opener)}else{return null}}}var a=b(window);var c;if(a){c=jQuery(document).ooTranslator().getTranslator(a.o_info.locale,"org.olat.core.gui.components.form.flexible.impl.elements.richText.plugins.olatsmileys")}else{c={translate:function(e){return e}}}function d(){var g=[["smile","sad","blushing","confused","cool","cry"],["devil","grin","kiss","ohoh","angry","sick"],["angel","tongue","ugly","weird","wink","worried"]];var f=top.tinymce.activeEditor.getParam("olatsmileys_transparentImage");var i='<table border="0" cellspacing="4" cellpadding="4" id="smileystable">';for(var j=0;j<g.length;j++){i+="<tr>";for(var h=0;h<g[j].length;h++){var k=g[j][h];var e=c.translate("olatsmileys.icon."+k);i+="<td><a href='#'>";i+="<img class='b_emoticons_"+k+"' src='"+f+"' width='18' height='18' border='0' ";i+="alt='"+k+"' title='"+e+"' /></a></td>"}i+="</tr>"}i+="</table>";return i}tinymce.create("org.olat.core.gui.components.form.flexible.impl.elements.richText.plugins.olatsmileys",{init:function(e,f){e.addButton("olatsmileys",{title:"Smileys",image:f+"/img/smiley-smile.gif",type:"panelbutton",popoverAlign:"bc-tl",panel:{autohide:true,html:d,onclick:function(i){var h=jQuery(i.target).attr("class");if(h){var g='<img src="'+top.tinymce.activeEditor.getParam("olatsmileys_transparentImage")+'" class="'+h+'">';e.insertContent(g);this.hide()}}},tooltip:"Smileys"})},getInfo:function(){return{longname:"OpenOLAT Smileys",author:"frentix GmbH",authorurl:"http://www.frentix.com",infourl:"http://www.frentix.com",version:"1.1"}}});tinymce.PluginManager.add("olatsmileys",org.olat.core.gui.components.form.flexible.impl.elements.richText.plugins.olatsmileys)})();